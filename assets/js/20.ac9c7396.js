(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{410:function(t,n,e){"use strict";e.r(n);var i=e(2),v=Object(i.a)({},(function(){var t=this,n=t._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("p",[t._v("一、本地")]),t._v(" "),n("ol",[n("li",[t._v("配置ssh免密钥登陆服务器")])]),t._v(" "),n("p",[t._v("ssh-copy-id 用户名@ip地址\n二、服务端")]),t._v(" "),n("ol",[n("li",[t._v("安装 nginx")])]),t._v(" "),n("p",[t._v("sudo apt-get install nginx # 安装nginx\nnginx相关命令")]),t._v(" "),n("p",[t._v("nginx -t # 查看nginx配置文件，并检查配置是否正确\nnginx -s reload # 重新加载\nnginx -s reopend # 重新启动\nnginx -s stop # 关闭\n配置 Nginx")]),t._v(" "),n("p",[t._v("cd /etc/nginx/sites-enabled")]),t._v(" "),n("h1",{attrs:{id:"如果有-default-这个文件-可以将里面的内容先注释掉-或者删掉default这个文件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#如果有-default-这个文件-可以将里面的内容先注释掉-或者删掉default这个文件"}},[t._v("#")]),t._v(" 如果有 default 这个文件，可以将里面的内容先注释掉，或者删掉default这个文件")]),t._v(" "),n("h1",{attrs:{id:"然后"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#然后"}},[t._v("#")]),t._v(" 然后")]),t._v(" "),n("p",[t._v("vim hexo")]),t._v(" "),n("h1",{attrs:{id:"写入"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#写入"}},[t._v("#")]),t._v(" 写入")]),t._v(" "),n("p",[t._v("server {\nlisten       80;\nroot   /www/hexo; # 这里的意思是挂载/www/hexo目录")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("location / {\n index  index.html index.htm;\n}\n")])])]),n("p",[t._v("}\n2. 配置 git 远程仓库")]),t._v(" "),n("p",[t._v("有些文章是先新建一个用户，然后在该用户下去新建 git 远程仓库，由于我当时配置有问题，一直推不上去，就不新建用户，直接在root下配置")]),t._v(" "),n("p",[t._v("cd /wwww  # 随便在哪里创建都可以")]),t._v(" "),n("p",[t._v("git init --bare hexo.git # 初始化一个仓库")]),t._v(" "),n("p",[t._v("cd /www/hexo.git/hooks")]),t._v(" "),n("p",[t._v("vim post-receive  //这个文件中的脚本会监听这个git的仓库的每一次push上来的事件，push到这个仓库一次，里面的脚本就执行一次")]),t._v(" "),n("p",[t._v("然后写入")]),t._v(" "),n("p",[t._v("#!/bin/sh\ngit --work-tree=/www/hexo --git-dir=/www/hexo.git checkout -f  # 前面的/www/hexo与上述nginx配置挂载的目录一致\n这个脚本的意思就是把/www/hexo.git 这个仓库的分支同步到/www/hexo文件夹中")]),t._v(" "),n("p",[t._v("然后更改权限")]),t._v(" "),n("p",[t._v("chmod 777 post-receive\n三、本地")]),t._v(" "),n("ol",[n("li",[t._v("hexo网站搭建")])]),t._v(" "),n("p",[t._v("hexo ini # 初始化博客\n然后进行配置，详见 https://hexo.io/zh-cn/docs/")]),t._v(" "),n("ol",{attrs:{start:"2"}},[n("li",[t._v("修改 _config.yml")])]),t._v(" "),n("p",[t._v("deploy:\ntype: git\nrepo: 用户名@ip地址:/www/hexo.git\nbranch: master\n3. 新建文章并部署到服务器")]),t._v(" "),n("p",[t._v('hexo new "这是一篇文章" # 发布新文章\nhexo clean & hexo g -d # 生成文章并部署到服务端\n这时候在网页中输入你的服务器ip即可看到你的个人博客了\n————————————————\n版权声明：本文为CSDN博主「Jayden555」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。\n原文链接：https://blog.csdn.net/Jonder_wu/article/details/101910036')])])}),[],!1,null,null,null);n.default=v.exports}}]);